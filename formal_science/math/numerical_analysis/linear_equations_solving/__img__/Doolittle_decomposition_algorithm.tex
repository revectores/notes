\documentclass[varwidth]{standalone}
%\documentclass[article]
%\usepackage{xcolor}
\usepackage{amsmath}
%\usepackage{algorithm2e}
\usepackage[noend]{algpseudocode}

%\makeatletter
%\def\BState{\State\hskip-\ALG@thistlm}
%\makeatother

\begin{document}
%\nopagecolor
%\begin{algorithm}
%\caption{DoolittleDecomposition}
\begin{algorithmic}[1]
\Function{Doolittle\_decomposition}{$n$, $A$, $y$}
\For{$k \gets 1$ to $n$}
    \For{$j \gets k$ to $n$}
        \State $u_{kj} \gets a_{kj} - \displaystyle\sum_{r=1}^{k-1}l_{kr}u_{rj}$
    \EndFor
    \For{$i \gets k+1$ to $n$}
        \State $l_{ik} \gets \displaystyle\frac{1}{u_{kk}}\left( a_{ik} - \sum_{r=1}^{k-1}l_{ir}u_{rk} \right)$
    \EndFor
\EndFor

\For{$i \gets 1$ to $n$}
   \State $y_i \gets b_i - \displaystyle\sum_{j=1}^{i-1}l_{ij}y_j$
\EndFor

\For{$i \gets n$ to $1$}
   \State $x_i \gets \displaystyle\frac{1}{u_{ii}} \left( y_i - \sum_{j=i+1}^n u_{ij}x_j \right)$
\EndFor
\State \Return $x_i, i = 1, 2, \ldots, n$

\EndFunction
\end{algorithmic}
%\end{algorithm}
\end{document}
